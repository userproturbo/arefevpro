AREFEVPRO ‚Äî –æ–ø–∏—Å–∞–Ω–∏–µ –ø—Ä–æ–µ–∫—Ç–∞ (–æ–±–Ω–æ–≤–ª–µ–Ω–æ)
–ß—Ç–æ —ç—Ç–æ –∑–∞ –ø—Ä–æ–µ–∫—Ç

AREFEVPRO ‚Äî —ç—Ç–æ –ø–µ—Ä—Å–æ–Ω–∞–ª—å–Ω—ã–π —Å–∞–π—Ç-–ø–æ—Ä—Ç—Ñ–æ–ª–∏–æ –∏ –º–µ–¥–∏–∞-–ø–ª–∞—Ç—Ñ–æ—Ä–º–∞ –∫—Ä–µ–∞—Ç–∏–≤–Ω–æ–π —Å—Ç—É–¥–∏–∏, —Ü–µ–ª—å –∫–æ—Ç–æ—Ä–æ–π ‚Äî –ø—Ä–æ–∏–∑–≤–µ—Å—Ç–∏ –≤–ø–µ—á–∞—Ç–ª–µ–Ω–∏–µ –Ω–∞ –ø–æ—Ç–µ–Ω—Ü–∏–∞–ª—å–Ω–æ–≥–æ –∑–∞–∫–∞–∑—á–∏–∫–∞ –∏ –ø–æ–∫–∞–∑–∞—Ç—å —Ä–∞–±–æ—Ç—ã –∞–≤—Ç–æ—Ä–∞ –≤ —Ä–∞–∑–Ω—ã—Ö —Ñ–æ—Ä–º–∞—Ç–∞—Ö: –ø—Ä–æ–µ–∫—Ç—ã, —Ñ–æ—Ç–æ, –≤–∏–¥–µ–æ, –º—É–∑—ã–∫–∞ –∏ –±–ª–æ–≥.

–°–∞–π—Ç –ø–æ—Å—Ç—Ä–æ–µ–Ω —Ç–∞–∫, —á—Ç–æ–±—ã –ø–æ—Å–µ—Ç–∏—Ç–µ–ª—å –º–æ–≥:

–±—ã—Å—Ç—Ä–æ –ø–æ—Å–º–æ—Ç—Ä–µ—Ç—å –ª—É—á—à–∏–µ —Ä–∞–±–æ—Ç—ã,

–æ—Ü–µ–Ω–∏—Ç—å —Å—Ç–∏–ª—å –∏ —É—Ä–æ–≤–µ–Ω—å,

–≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–æ–≤–∞—Ç—å —Å –∫–æ–Ω—Ç–µ–Ω—Ç–æ–º —á–µ—Ä–µ–∑ –ª–∞–π–∫–∏ –∏ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏,

–ø—Ä–∏ –∂–µ–ª–∞–Ω–∏–∏ ‚Äî –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞—Ç—å—Å—è –∏ –ø–æ–ª—É—á–∞—Ç—å —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –æ–± –æ—Ç–≤–µ—Ç–∞—Ö.

–ü—Ä–æ–µ–∫—Ç –æ—Ä–∏–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω –Ω–∞ production / digital / creative —Å–µ–≥–º–µ–Ω—Ç: –≤–µ–±-—Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∞, —Ñ–æ—Ç–æ/–≤–∏–¥–µ–æ-–∫–æ–Ω—Ç–µ–Ω—Ç, –∞—ç—Ä–æ—Å—ä—ë–º–∫–∞ —Å –¥—Ä–æ–Ω–∞, –º—É–∑—ã–∫–∞ –∏ —Ç–µ–∫—Å—Ç—ã.

–û—Å–Ω–æ–≤–Ω—ã–µ —Ä–∞–∑–¥–µ–ª—ã —Å–∞–π—Ç–∞

–ù–∞ —Å–∞–π—Ç–µ –µ—Å—Ç—å 5 –ø—É–±–ª–∏—á–Ω—ã—Ö —Ä–∞–∑–¥–µ–ª–æ–≤:

–ü—Ä–æ–µ–∫—Ç—ã

–†–∞–∑–¥–µ–ª –¥–ª—è –ø—É–±–ª–∏–∫–∞—Ü–∏–∏ –≤—ã–ø–æ–ª–Ω–µ–Ω–Ω—ã—Ö —Ä–∞–±–æ—Ç:

—Å–∞–π—Ç—ã –∏ –≤–µ–±-–ø—Ä–æ–µ–∫—Ç—ã,

–ø—Ä–æ–µ–∫—Ç—ã —Å –≤–∏–∑—É–∞–ª—å–Ω–æ–π —á–∞—Å—Ç—å—é,

–∞—ç—Ä–æ—Å—ä—ë–º–∫–∞ —Å –¥—Ä–æ–Ω–∞ (drone aerial footage / drone videography).

–¶–µ–ª—å: –ø–æ–∫–∞–∑–∞—Ç—å –∫–µ–π—Å—ã, —É—Ä–æ–≤–µ–Ω—å —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ –∏ –ø–æ–¥—Ö–æ–¥ –∫ —Ä–∞–±–æ—Ç–µ.

–§–æ—Ç–æ (—Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ)

–†–∞–∑–¥–µ–ª ‚Äú–§–æ—Ç–æ‚Äù ‚Äî —ç—Ç–æ –ø–æ–ª–Ω–æ—Ü–µ–Ω–Ω–∞—è —Ñ–æ—Ç–æ-–≥–∞–ª–µ—Ä–µ—è —Å –∞–ª—å–±–æ–º–∞–º–∏, –ø—Ä–æ—Å–º–æ—Ç—Ä–æ–º –≤ —Ñ–æ—Ä–º–∞—Ç–µ viewer/lightbox –∏ —Å–æ—Ü–∏–∞–ª—å–Ω—ã–º–∏ –º–µ—Ö–∞–Ω–∏–∫–∞–º–∏ (–ª–∞–π–∫–∏ –∏ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏). –†–∞–∑–¥–µ–ª —Å–¥–µ–ª–∞–Ω —Ç–∞–∫, —á—Ç–æ–±—ã –≤—ã–≥–ª—è–¥–µ—Ç—å –∫–∞–∫ ‚Äú–º–µ–¥–∏–∞-–ø–ª–∞—Ç—Ñ–æ—Ä–º–∞‚Äù, –∞ –Ω–µ –ø—Ä–æ—Å—Ç–æ —Å—Ç—Ä–∞–Ω–∏—Ü–∞ —Å –∫–∞—Ä—Ç–∏–Ω–∫–∞–º–∏.

–ö–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç —Ä–∞–∑–¥–µ–ª ‚Äú–§–æ—Ç–æ‚Äù

–†–∞–∑–¥–µ–ª —Å–æ—Å—Ç–æ–∏—Ç –∏–∑ —Ç—Ä—ë—Ö —É—Ä–æ–≤–Ω–µ–π:

1) –ì–ª–∞–≤–Ω–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞ —Ä–∞–∑–¥–µ–ª–∞ /photo

–û—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è —Å–ª–∞–π–¥—à–æ—É —Å–ª—É—á–∞–π–Ω—ã—Ö —Ñ–æ—Ç–æ–≥—Ä–∞—Ñ–∏–π –∏–∑ –≤—Å–µ—Ö –∞–ª—å–±–æ–º–æ–≤.

–°–ª–∞–π–¥—à–æ—É —Ä–∞–±–æ—Ç–∞–µ—Ç –ø–ª–∞–≤–Ω–æ, —Å–æ–∑–¥–∞—ë—Ç ‚Äú–≤–∞—É-—ç—Ñ—Ñ–µ–∫—Ç‚Äù –∏ —Å—Ä–∞–∑—É –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç —Å—Ç–∏–ª—å –∞–≤—Ç–æ—Ä–∞.

–î–∞–Ω–Ω—ã–µ –±–µ—Ä—É—Ç—Å—è —á–µ—Ä–µ–∑ API /api/photos/random.

2) –°—Ç—Ä–∞–Ω–∏—Ü–∞ –∞–ª—å–±–æ–º–∞ /photo/[slug]

–ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è grid (–ø–ª–∏—Ç–∫–∞) —Ñ–æ—Ç–æ–≥—Ä–∞—Ñ–∏–π –≤–Ω—É—Ç—Ä–∏ –≤—ã–±—Ä–∞–Ω–Ω–æ–≥–æ –∞–ª—å–±–æ–º–∞.

–ü–ª–∏—Ç–∫–∞ –∞–¥–∞–ø—Ç–∏–≤–Ω–∞—è –∏ —Ä–∞—Å—Å—á–∏—Ç–∞–Ω–∞ –Ω–∞ –±—ã—Å—Ç—Ä–æ–µ —Å–∫–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ –∫–æ–Ω—Ç–µ–Ω—Ç–∞.

–ù–∞ –∫–∞–∂–¥–æ–π —Ñ–æ—Ç–æ–≥—Ä–∞—Ñ–∏–∏ –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –ª–∞–π–∫–æ–≤ (–µ—Å–ª–∏ –µ—Å—Ç—å).

–ö–ª–∏–∫ –ø–æ —Ñ–æ—Ç–æ –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç –ø—Ä–æ—Å–º–æ—Ç—Ä—â–∏–∫ –±–µ–∑ –æ—â—É—â–µ–Ω–∏—è ‚Äú–ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫–∏ —Å—Ç—Ä–∞–Ω–∏—Ü—ã‚Äù.

3) –ü—Ä–æ—Å–º–æ—Ç—Ä—â–∏–∫ —Ñ–æ—Ç–æ /photo/[slug]/[photoId]

–û—Ç–∫—Ä—ã–≤–∞–µ—Ç—Å—è viewer —Å –±–æ–ª—å—à–∏–º –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ–º –∏ –ª–µ–Ω—Ç–æ–π –º–∏–Ω–∏–∞—Ç—é—Ä —Å–Ω–∏–∑—É.

–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –º–æ–∂–µ—Ç –±—ã—Å—Ç—Ä–æ –ø–µ—Ä–µ–∫–ª—é—á–∞—Ç—å—Å—è –º–µ–∂–¥—É —Ñ–æ—Ç–æ–≥—Ä–∞—Ñ–∏—è–º–∏ –ø–æ –º–∏–Ω–∏–∞—Ç—é—Ä–∞–º.

–†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–∞ –ø–ª–∞–≤–Ω–∞—è –Ω–∞–≤–∏–≥–∞—Ü–∏—è –º–µ–∂–¥—É —Ñ–æ—Ç–æ (–æ—â—É—â–µ–Ω–∏–µ ‚Äú–º–≥–Ω–æ–≤–µ–Ω–Ω–æ‚Äù).

Viewer —Å–¥–µ–ª–∞–Ω –∫–∞–∫ –ø–æ–ª–Ω–æ—Ü–µ–Ω–Ω—ã–π —Ä–µ–∂–∏–º –ø—Ä–æ—Å–º–æ—Ç—Ä–∞, –∞ –Ω–µ –æ—Ç–¥–µ–ª—å–Ω–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞.

–õ–∞–π–∫–∏ –≤ —Ä–∞–∑–¥–µ–ª–µ ‚Äú–§–æ—Ç–æ‚Äù

–õ–∞–π–∫–∏ –¥–æ—Å—Ç—É–ø–Ω—ã –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–º –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º.

–õ–∞–π–∫ —Å—Ç–∞–≤–∏—Ç—Å—è –ø–æ –Ω–∞–∂–∞—Ç–∏—é –Ω–∞ –∫–Ω–æ–ø–∫—É —Å —Å–µ—Ä–¥–µ—á–∫–æ–º.

–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –ª–∞–π–∫–æ–≤ –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è:

–≤ –ø—Ä–æ—Å–º–æ—Ç—Ä—â–∏–∫–µ (viewer),

–≤ –ø–ª–∏—Ç–∫–µ –∞–ª—å–±–æ–º–∞ (grid).

–õ–∞–π–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç –º–≥–Ω–æ–≤–µ–Ω–Ω–æ –±–µ–∑ –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫–∏ —Å—Ç—Ä–∞–Ω–∏—Ü—ã —á–µ—Ä–µ–∑ API /api/photos/[photoId]/like.

–ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏ –≤ —Ä–∞–∑–¥–µ–ª–µ ‚Äú–§–æ—Ç–æ‚Äù

–í–Ω—É—Ç—Ä–∏ viewer —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–∞ —Å–∏—Å—Ç–µ–º–∞ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–µ–≤, –∫–æ—Ç–æ—Ä–∞—è –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç:

–¥–æ–±–∞–≤–ª–µ–Ω–∏–µ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–µ–≤ –∫ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–π —Ñ–æ—Ç–æ–≥—Ä–∞—Ñ–∏–∏,

–æ—Ç–≤–µ—Ç—ã –Ω–∞ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏ (–≤–µ—Ç–∫–∏/replies),

—É–¥–∞–ª–µ–Ω–∏–µ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–µ–≤ –∞–≤—Ç–æ—Ä–æ–º (–∫–∞–∫ –≤ —Ä–∞–∑–¥–µ–ª–µ ‚Äú–ë–ª–æ–≥‚Äù),

–æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞ –æ—Ç–≤–µ—Ç–æ–≤ –∏ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å —Ä–∞—Å–∫—Ä—ã–≤–∞—Ç—å/—Å–∫—Ä—ã–≤–∞—Ç—å –≤–µ—Ç–∫—É.

–ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏ –∑–∞–≥—Ä—É–∂–∞—é—Ç—Å—è —á–µ—Ä–µ–∑ API:

/api/photos/[photoId]/comments

UI/UX –æ—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏ (–ø–æ—á–µ–º—É —ç—Ç–æ –≤—ã–≥–ª—è–¥–∏—Ç –∫–∞–∫ –ø—Ä–æ–¥—É–∫—Ç)

–†–∞–∑–¥–µ–ª ‚Äú–§–æ—Ç–æ‚Äù —Å–¥–µ–ª–∞–Ω —Å —É–ø–æ—Ä–æ–º –Ω–∞ –æ—â—É—â–µ–Ω–∏–µ ‚Äú–º–µ–¥–∏–∞-–ø–ª–∞—Ç—Ñ–æ—Ä–º—ã‚Äù:

viewer –∑–∞–Ω–∏–º–∞–µ—Ç –≤—Å—é –¥–æ—Å—Ç—É–ø–Ω—É—é –≤—ã—Å–æ—Ç—É —ç–∫—Ä–∞–Ω–∞,

–ª–µ–Ω—Ç–∞ –º–∏–Ω–∏–∞—Ç—é—Ä —Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–∞ —Å–Ω–∏–∑—É –∏ –ø–æ–∑–≤–æ–ª—è–µ—Ç –±—ã—Å—Ç—Ä–æ –ª–∏—Å—Ç–∞—Ç—å –∞–ª—å–±–æ–º,

—Å–∫—Ä–æ–ª–ª–±–∞—Ä—ã —Å–∫—Ä—ã—Ç—ã —Ç–∞–º, –≥–¥–µ –æ–Ω–∏ –ø–æ—Ä—Ç—è—Ç —ç—Å—Ç–µ—Ç–∏–∫—É,

–µ—Å—Ç—å –∞–Ω–∏–º–∞—Ü–∏–∏ –ø–æ—è–≤–ª–µ–Ω–∏—è/–ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏—è,

–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –∞–¥–∞–ø—Ç–∏—Ä–æ–≤–∞–Ω –ø–æ–¥ —à–∏—Ä–æ–∫–∏–µ —ç–∫—Ä–∞–Ω—ã –∏ –∫–æ–º—Ñ–æ—Ä—Ç–Ω—ã–π –ø—Ä–æ—Å–º–æ—Ç—Ä.

–•—Ä–∞–Ω–µ–Ω–∏–µ —Ñ–∞–π–ª–æ–≤

–§–æ—Ç–æ–≥—Ä–∞—Ñ–∏–∏ –∑–∞–≥—Ä—É–∂–∞—é—Ç—Å—è —á–µ—Ä–µ–∑ –∞–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å –∏ —Ö—Ä–∞–Ω—è—Ç—Å—è –≤ Yandex Cloud Object Storage.

–≠—Ç–æ –¥–∞—ë—Ç:

–±—ã—Å—Ç—Ä—ã–π –¥–æ—Å—Ç—É–ø –∫ –∫–æ–Ω—Ç–µ–Ω—Ç—É –≤ production,

—Ä–∞–∑–≥—Ä—É–∑–∫—É —Å–µ—Ä–≤–µ—Ä–∞ (VPS –Ω–µ —Ö—Ä–∞–Ω–∏—Ç –º–µ–¥–∏–∞),

–º–∞—Å—à—Ç–∞–±–∏—Ä—É–µ–º–æ—Å—Ç—å (–º–æ–∂–Ω–æ —É–≤–µ–ª–∏—á–∏–≤–∞—Ç—å –æ–±—ä—ë–º –∞–ª—å–±–æ–º–æ–≤ –±–µ–∑ –∏–∑–º–µ–Ω–µ–Ω–∏—è –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä—ã).

–í–∏–¥–µ–æ

üé¨ –í–∏–¥–µ–æ (Upload + Embed + –ê–¥–º–∏–Ω–∫–∞ + Object Storage)

–í –ø—Ä–æ–µ–∫—Ç–µ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω –ø–æ–ª–Ω–æ—Ü–µ–Ω–Ω—ã–π —Ä–∞–∑–¥–µ–ª ‚Äú–í–∏–¥–µ–æ‚Äù —Å –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å—é –¥–æ–±–∞–≤–ª—è—Ç—å —Ä–æ–ª–∏–∫–∏ —á–µ—Ä–µ–∑ –∞–¥–º–∏–Ω–∫—É –∏ –æ—Ç–æ–±—Ä–∞–∂–∞—Ç—å –∏—Ö –Ω–∞ –ø—É–±–ª–∏—á–Ω–æ–π —Å—Ç—Ä–∞–Ω–∏—Ü–µ.

–¶–µ–ª—å —Ä–∞–∑–¥–µ–ª–∞:

–ø–æ–∫–∞–∑—ã–≤–∞—Ç—å —Å–∞–º—ã–µ —ç—Ñ—Ñ–µ–∫—Ç–Ω—ã–µ –∫–∞–¥—Ä—ã

drone-–≤–∏–¥–µ–æ

cinematic / –∞—Ç–º–æ—Å—Ñ–µ—Ä–Ω—ã–µ —Ä–æ–ª–∏–∫–∏

—É—Å–∏–ª–∏–≤–∞—Ç—å –ø–æ—Ä—Ç—Ñ–æ–ª–∏–æ –∏ –≤—ã–∑—ã–≤–∞—Ç—å ‚Äú–≤–∞—É-—ç—Ñ—Ñ–µ–∫—Ç‚Äù

‚úÖ –ß—Ç–æ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ
1) –ê–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è –≤–∏–¥–µ–æ

–î–æ–±–∞–≤–ª–µ–Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–∞ –∞–¥–º–∏–Ω–∫–∏ –¥–ª—è –¥–æ–±–∞–≤–ª–µ–Ω–∏—è –≤–∏–¥–µ–æ:

–º–æ–∂–Ω–æ —É–∫–∞–∑–∞—Ç—å –≤–∏–¥–µ–æ —Å—Å—ã–ª–∫–æ–π (Embed/URL)

–ª–∏–±–æ –∑–∞–≥—Ä—É–∑–∏—Ç—å —Ñ–∞–π–ª MP4/MOV

–º–æ–∂–Ω–æ –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ —É–∫–∞–∑–∞—Ç—å –∏ upload –∏ embed (–≥–ª–∞–≤–Ω–æ–µ —á—Ç–æ–±—ã –±—ã–ª —Ö–æ—Ç—è –±—ã –æ–¥–∏–Ω –∏—Å—Ç–æ—á–Ω–∏–∫)

–º–æ–∂–Ω–æ –∑–∞–≥—Ä—É–∑–∏—Ç—å –ø—Ä–µ–≤—å—é (thumbnail) –∫–∞—Ä—Ç–∏–Ω–∫–æ–π –∏–ª–∏ —Å—Å—ã–ª–∫–æ–π

–µ—Å—Ç—å —á–µ–∫–±–æ–∫—Å ‚Äú–û–ø—É–±–ª–∏–∫–æ–≤–∞—Ç—å‚Äù

–ø–æ—Å–ª–µ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è –≤–∏–¥–µ–æ –ø–æ—è–≤–ª—è–µ—Ç—Å—è –Ω–∞ –ø—É–±–ª–∏—á–Ω–æ–π —Å—Ç—Ä–∞–Ω–∏—Ü–µ

2) –ó–∞–≥—Ä—É–∑–∫–∞ –±–æ–ª—å—à–∏—Ö —Ñ–∞–π–ª–æ–≤ —á–µ—Ä–µ–∑ Presigned URL (–±–µ–∑ –ø—Ä–æ–∫—Å–∏—Ä–æ–≤–∞–Ω–∏—è —á–µ—Ä–µ–∑ —Å–µ—Ä–≤–µ—Ä)

–ß—Ç–æ–±—ã –Ω–µ –≥—Ä—É–∑–∏—Ç—å –±–æ–ª—å—à–∏–µ –≤–∏–¥–µ–æ —á–µ—Ä–µ–∑ Next.js —Å–µ—Ä–≤–µ—Ä (–∏ –Ω–µ –ª–æ–≤–∏—Ç—å –ª–∏–º–∏—Ç—ã, —Ç–∞–π–º–∞—É—Ç—ã –∏ –ø–µ—Ä–µ–≥—Ä—É–∑–∫—É –ø–∞–º—è—Ç–∏), —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–∞ —Å—Ö–µ–º–∞:

Browser ‚Üí –Ω–∞–ø—Ä—è–º—É—é –≤ Object Storage (Yandex S3)

–ö–∞–∫ —ç—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç:

–ö–ª–∏–µ–Ω—Ç (–∞–¥–º–∏–Ω–∫–∞) –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç –∑–∞–ø—Ä–æ—Å –Ω–∞ backend:

POST /api/admin/upload/presign

–ø–µ—Ä–µ–¥–∞—ë—Ç filename, contentType, folder

Backend –≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç presigned PUT URL –¥–ª—è –∑–∞–≥—Ä—É–∑–∫–∏ –≤ Yandex Object Storage.

–ö–ª–∏–µ–Ω—Ç –≤—ã–ø–æ–ª–Ω—è–µ—Ç PUT uploadUrl –∏ –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç –≤–∏–¥–µ–æ –Ω–∞–ø—Ä—è–º—É—é –≤ –±–∞–∫–µ—Ç.

Backend –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç publicUrl ‚Äî —Ñ–∏–Ω–∞–ª—å–Ω—É—é —Å—Å—ã–ª–∫—É –Ω–∞ —Ñ–∞–π–ª, –∫–æ—Ç–æ—Ä—É—é –º–æ–∂–Ω–æ —Å–æ—Ö—Ä–∞–Ω–∏—Ç—å –≤ –±–∞–∑–µ –∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –≤ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–µ.

–≠—Ç–æ –¥–∞—ë—Ç:

–±—ã—Å—Ç—Ä—É—é –∑–∞–≥—Ä—É–∑–∫—É –±–æ–ª—å—à–∏—Ö –≤–∏–¥–µ–æ

–º–∏–Ω–∏–º–∞–ª—å–Ω—É—é –Ω–∞–≥—Ä—É–∑–∫—É –Ω–∞ —Å–µ—Ä–≤–µ—Ä

—É—Å—Ç–æ–π—á–∏–≤—É—é —Ä–∞–±–æ—Ç—É –≤ –ø—Ä–æ–¥–∞–∫—à–µ–Ω–µ

3) –ü—Ä–æ–≥—Ä–µ—Å—Å –∑–∞–≥—Ä—É–∑–∫–∏ (Progress Bar + –ø—Ä–æ—Ü–µ–Ω—Ç—ã + —Å–∫–æ—Ä–æ—Å—Ç—å + ETA)

–í –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–µ –∞–¥–º–∏–Ω–∫–∏ –¥–æ–±–∞–≤–ª–µ–Ω –ø—Ä–æ–≥—Ä–µ—Å—Å-–±–∞—Ä –∑–∞–≥—Ä—É–∑–∫–∏, –∫–æ—Ç–æ—Ä—ã–π –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç:

–ø—Ä–æ—Ü–µ–Ω—Ç –∑–∞–≥—Ä—É–∑–∫–∏ (–Ω–∞–ø—Ä–∏–º–µ—Ä Uploading: 72%)

–ø—Ä–æ–≥—Ä–µ—Å—Å –ø–æ–ª–æ—Å–∫–æ–π

—Å–∫–æ–ª—å–∫–æ –∑–∞–≥—Ä—É–∂–µ–Ω–æ / –æ–±—â–∏–π —Ä–∞–∑–º–µ—Ä (1372 MB / 1880 MB)

Speed ‚Äî —Ç–µ–∫—É—â–∞—è —Å–∫–æ—Ä–æ—Å—Ç—å –∑–∞–≥—Ä—É–∑–∫–∏

ETA ‚Äî –æ—Å—Ç–∞–≤—à–µ–µ—Å—è –≤—Ä–µ–º—è –¥–æ –æ–∫–æ–Ω—á–∞–Ω–∏—è –∑–∞–≥—Ä—É–∑–∫–∏

–∫–Ω–æ–ø–∫–∞ Cancel upload (–æ—Ç–º–µ–Ω–∞)

–¢–æ –µ—Å—Ç—å –∑–∞–≥—Ä—É–∑–∫–∞ –±–æ–ª—å—à–∏—Ö —Ñ–∞–π–ª–æ–≤ —Å—Ç–∞–ª–∞ –ø—Ä–æ–∑—Ä–∞—á–Ω–æ–π –∏ –∫–æ–Ω—Ç—Ä–æ–ª–∏—Ä—É–µ–º–æ–π.

4) –£–ª—É—á—à–µ–Ω–Ω–∞—è –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞ –æ—à–∏–±–æ–∫ (Presign / Config)

–ß—Ç–æ–±—ã –≤ –ø—Ä–æ–¥–µ –æ—à–∏–±–∫–∏ –Ω–µ –≤—ã–≥–ª—è–¥–µ–ª–∏ –∫–∞–∫ ‚Äú—á—Ç–æ-—Ç–æ —Å–ª–æ–º–∞–ª–æ—Å—å –Ω–µ–ø–æ–Ω—è—Ç–Ω–æ –ø–æ—á–µ–º—É‚Äù, —É–ª—É—á—à–∏–ª–∏ –æ–±—Ä–∞–±–æ—Ç–∫—É –æ—à–∏–±–æ–∫:

–ø—Ä–æ–≤–µ—Ä–∫–∞ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ S3 (bucket, endpoint, public url)

—è–≤–Ω—ã–µ –æ—à–∏–±–∫–∏ –ø—Ä–∏ –æ—Ç—Å—É—Ç—Å—Ç–≤–∏–∏ env-–ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö

—Å–µ—Ä–≤–µ—Ä –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç —Å—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ JSON –æ—à–∏–±–∫–∏ —Å code + message

–∞–¥–º–∏–Ω–∫–∞ –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç –Ω–æ—Ä–º–∞–ª—å–Ω—É—é –æ—à–∏–±–∫—É –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é –∏ –ø–∏—à–µ—Ç –¥–µ—Ç–∞–ª–∏ –≤ console

–í –∏—Ç–æ–≥–µ –µ—Å–ª–∏ —á—Ç–æ-—Ç–æ –ª–æ–º–∞–µ—Ç—Å—è ‚Äî –º–æ–∂–Ω–æ –±—ã—Å—Ç—Ä–æ –ø–æ–Ω—è—Ç—å –ø—Ä–∏—á–∏–Ω—É, –∞ –Ω–µ –≥–∞–¥–∞—Ç—å.

üö® –ì–ª–∞–≤–Ω–∞—è –ø—Ä–æ–±–ª–µ–º–∞ –Ω–∞ –ø—Ä–æ–¥–µ –∏ –∫–∞–∫ –º—ã –µ—ë —Ä–µ—à–∏–ª–∏
–ü—Ä–æ–±–ª–µ–º–∞

Presigned URL –≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–ª—Å—è –Ω–æ—Ä–º–∞–ª—å–Ω–æ (backend –æ—Ç–¥–∞–≤–∞–ª 200 OK), –Ω–æ –∑–∞–≥—Ä—É–∑–∫–∞ —á–µ—Ä–µ–∑ PUT –ø–∞–¥–∞–ª–∞ —Å:

CORS error / Network error

–¢–æ –µ—Å—Ç—å –±—Ä–∞—É–∑–µ—Ä –Ω–µ —Ä–∞–∑—Ä–µ—à–∞–ª –æ—Ç–ø—Ä–∞–≤–ª—è—Ç—å PUT –∑–∞–ø—Ä–æ—Å –Ω–∞–ø—Ä—è–º—É—é –≤ –±–∞–∫–µ—Ç.

–ü—Ä–∏—á–∏–Ω–∞:

—É –±–∞–∫–µ—Ç–∞ –≤ Yandex Object Storage –Ω–µ –±—ã–ª–∞ –Ω–∞—Å—Ç—Ä–æ–µ–Ω–∞ CORS –ø–æ–ª–∏—Ç–∏–∫–∞, —Ä–∞–∑—Ä–µ—à–∞—é—â–∞—è PUT –∑–∞–ø—Ä–æ—Å—ã —Å –¥–æ–º–µ–Ω–∞ —Å–∞–π—Ç–∞.

–†–µ—à–µ–Ω–∏–µ

–ù–∞—Å—Ç—Ä–æ–∏–ª–∏ CORS –≤ –±–∞–∫–µ—Ç–µ:

—Ä–∞–∑—Ä–µ—à–∏–ª–∏ origin:

https://arefev.pro

http://localhost:3000

—Ä–∞–∑—Ä–µ—à–∏–ª–∏ –º–µ—Ç–æ–¥—ã:

GET, HEAD, PUT

—Ä–∞–∑—Ä–µ—à–∏–ª–∏ headers: *

–¥–æ–±–∞–≤–∏–ª–∏ ExposeHeaders: ETag

–ü–æ—Å–ª–µ –ø—Ä–∏–º–µ–Ω–µ–Ω–∏—è CORS –∑–∞–≥—Ä—É–∑–∫–∞ –≤–∏–¥–µ–æ —á–µ—Ä–µ–∑ presigned PUT —É—Å–ø–µ—à–Ω–æ –∑–∞—Ä–∞–±–æ—Ç–∞–ª–∞ –≤ –ø—Ä–æ–¥–∞–∫—à–µ–Ω–µ.

üõ† –ß—Ç–æ –¥–æ–±–∞–≤–ª–µ–Ω–æ –¥–ª—è —É–¥–æ–±—Å—Ç–≤–∞ –ø–æ–¥–¥–µ—Ä–∂–∫–∏ (–¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è + —Å–∫—Ä–∏–ø—Ç—ã)

–ß—Ç–æ–±—ã –Ω–µ –ø–æ–≤—Ç–æ—Ä—è—Ç—å –Ω–∞—Å—Ç—Ä–æ–π–∫—É –≤—Ä—É—á–Ω—É—é, –¥–æ–±–∞–≤–ª–µ–Ω—ã:

scripts/storage/cors.json ‚Äî –≥–æ—Ç–æ–≤–∞—è CORS –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è

scripts/storage/apply-cors.sh ‚Äî —Å–∫—Ä–∏–ø—Ç –¥–ª—è –ø—Ä–∏–º–µ–Ω–µ–Ω–∏—è/–ø—Ä–æ–≤–µ—Ä–∫–∏ CORS —á–µ—Ä–µ–∑ AWS CLI

docs/storage-cors.md ‚Äî –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –ø–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é

üìå –í–∞–∂–Ω–æ–µ –ø—Ä–æ –¥–µ–ø–ª–æ–π

–ö–æ–¥ (–∞–¥–º–∏–Ω–∫–∞ + presign API + UI –ø—Ä–æ–≥—Ä–µ—Å—Å) ‚Äî –¥–µ–ø–ª–æ–∏—Ç—Å—è –æ–±—ã—á–Ω—ã–º —Å–ø–æ—Å–æ–±–æ–º —á–µ—Ä–µ–∑ main.

–ù–æ CORS –≤ Object Storage ‚Äî —ç—Ç–æ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä—ã, –æ–Ω–∞:

–Ω–µ –¥–µ–ø–ª–æ–∏—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏

–ø—Ä–∏–º–µ–Ω—è–µ—Ç—Å—è –æ—Ç–¥–µ–ª—å–Ω–æ —á–µ—Ä–µ–∑ AWS CLI / –∫–æ–Ω—Å–æ–ª—å Yandex Cloud

–ø–æ—Å–ª–µ –ø—Ä–∏–º–µ–Ω–µ–Ω–∏—è —Å—Ä–∞–∑—É –Ω–∞—á–∏–Ω–∞–µ—Ç —Ä–∞–±–æ—Ç–∞—Ç—å

‚úÖ –ò—Ç–æ–≥

–í –ø—Ä–æ–µ–∫—Ç–µ –ø–æ—è–≤–∏–ª—Å—è –ø–æ–ª–Ω–æ—Ü–µ–Ω–Ω—ã–π –≤–∏–¥–µ–æ-—Ä–∞–∑–¥–µ–ª —Å –ø—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª—å–Ω–æ–π –∑–∞–≥—Ä—É–∑–∫–æ–π:

–∞–¥–º–∏–Ω–∫–∞ —Å–æ–∑–¥–∞–Ω–∏—è –≤–∏–¥–µ–æ

–∑–∞–≥—Ä—É–∑–∫–∞ –±–æ–ª—å—à–∏—Ö —Ñ–∞–π–ª–æ–≤ –Ω–∞–ø—Ä—è–º—É—é –≤ Object Storage

–ø—Ä–æ–≥—Ä–µ—Å—Å-–±–∞—Ä —Å –ø—Ä–æ—Ü–µ–Ω—Ç–∞–º–∏, —Å–∫–æ—Ä–æ—Å—Ç—å—é –∏ ETA

–æ–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫ –∏ –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞ –≤ –ø—Ä–æ–¥–µ

—Ä–µ—à–µ–Ω–∞ –ø—Ä–æ–±–ª–µ–º–∞ CORS –¥–ª—è presigned PUT

–¥–æ–±–∞–≤–ª–µ–Ω—ã —Å–∫—Ä–∏–ø—Ç—ã –∏ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –¥–ª—è –ø–æ–≤—Ç–æ—Ä—è–µ–º–æ—Å—Ç–∏

–ú—É–∑—ã–∫–∞

–†–∞–∑–¥–µ–ª —Å –∞—É–¥–∏–æ–∫–æ–Ω—Ç–µ–Ω—Ç–æ–º:

–∑–∞–ø–∏—Å–∏ —Å—Ç–∞—Ä—ã—Ö —Ä–∞–¥–∏–æ—ç—Ñ–∏—Ä–æ–≤,

–ø–æ–¥–∫–∞—Å—Ç—ã,

–∞–≤—Ç–æ—Ä—Å–∫–∏–µ —Ç—Ä–µ–∫–∏.

–ë–ª–æ–≥

–†–∞–∑–¥–µ–ª —Å–æ —Å—Ç–∞—Ç—å—è–º–∏ –∏ –∑–∞–º–µ—Ç–∫–∞–º–∏, –≥–¥–µ –∞–≤—Ç–æ—Ä –ø–∏—à–µ—Ç –ø—Ä–æ:

—Å–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–µ —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏–∏,

–ò–ò,

—Ä–∞–∑—Ä–∞–±–æ—Ç–∫—É,

–ø—É—Ç–µ—à–µ—Å—Ç–≤–∏—è,

–ª–∏—á–Ω—ã–µ –Ω–∞–±–ª—é–¥–µ–Ω–∏—è –∏ –æ–ø—ã—Ç.

–ü–æ—Å—Ç—ã –º–æ–≥—É—Ç —Å–æ–¥–µ—Ä–∂–∞—Ç—å –º–µ–¥–∏–∞: —Ñ–æ—Ç–æ –∏ –≤–∏–¥–µ–æ.

–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–µ —Ñ—É–Ω–∫—Ü–∏–∏ (–¥–ª—è –ø–æ—Å–µ—Ç–∏—Ç–µ–ª–µ–π)

–ü–æ—Å–µ—Ç–∏—Ç–µ–ª—å –º–æ–∂–µ—Ç –ø—Ä–æ—Å–º–∞—Ç—Ä–∏–≤–∞—Ç—å –≤–µ—Å—å –ø—É–±–ª–∏—á–Ω—ã–π –∫–æ–Ω—Ç–µ–Ω—Ç –±–µ–∑ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏.

–ü–æ—Å–ª–µ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –ø–æ–ª—É—á–∞–µ—Ç –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏:

–†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –∏ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è

–†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –ø—Ä–æ—Å—Ç–∞—è:

–Ω–∏–∫–Ω–µ–π–º,

–ª–æ–≥–∏–Ω,

–ø–∞—Ä–æ–ª—å.

–õ–∞–π–∫–∏ –∏ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏

–ó–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –º–æ–∂–µ—Ç:

—Å—Ç–∞–≤–∏—Ç—å –ª–∞–π–∫–∏,

–ø–∏—Å–∞—Ç—å –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏,

–æ—Ç–≤–µ—á–∞—Ç—å –Ω–∞ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏ (–≤–µ—Ç–∫–∏ –æ—Ç–≤–µ—Ç–æ–≤), –≤–æ –≤—Å–µ—Ö —Ä–∞–∑–¥–µ–ª–∞—Ö, –≥–¥–µ –µ—Å—Ç—å –∫–æ–Ω—Ç–µ–Ω—Ç.

–£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è

–ï—Å–ª–∏ –∫—Ç–æ-—Ç–æ –æ—Ç–≤–µ—Ç–∏–ª –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é –Ω–∞ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π ‚Äî –ø—Ä–∏ —Å–ª–µ–¥—É—é—â–µ–º –ø–æ—Å–µ—â–µ–Ω–∏–∏ —Å–∞–π—Ç–∞ –æ–Ω —É–≤–∏–¥–∏—Ç —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ.

–õ–æ–≥–∏–∫–∞ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π:

–∏–∫–æ–Ω–∫–∞ –∫–æ–ª–æ–∫–æ–ª—å—á–∏–∫–∞ –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç –Ω–∞–ª–∏—á–∏–µ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π,

—Å–ø–∏—Å–æ–∫ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç—Å—è –ø–æ –∫–ª–∏–∫—É,

–∫–ª–∏–∫ –ø–æ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—é –≤–µ–¥—ë—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –∫ –º–µ—Å—Ç—É, –≥–¥–µ –µ–º—É –æ—Ç–≤–µ—Ç–∏–ª–∏ (–ø–æ—Å—Ç/—Ñ–æ—Ç–æ/–∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π).

–ê–¥–º–∏–Ω–∫–∞ –∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∫–æ–Ω—Ç–µ–Ω—Ç–æ–º

–ö–æ–Ω—Ç–µ–Ω—Ç –Ω–∞ —Å–∞–π—Ç –¥–æ–±–∞–≤–ª—è–µ—Ç—Å—è —á–µ—Ä–µ–∑ –≤—Å—Ç—Ä–æ–µ–Ω–Ω—É—é –∞–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å.

–ê–¥–º–∏–Ω–∫–∞ –ø–æ–∑–≤–æ–ª—è–µ—Ç:

—Å–æ–∑–¥–∞–≤–∞—Ç—å –∏ —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å –ø–æ—Å—Ç—ã,

—É–ø—Ä–∞–≤–ª—è—Ç—å —Ñ–æ—Ç–æ–∞–ª—å–±–æ–º–∞–º–∏ –∏ —Ñ–æ—Ç–æ–≥—Ä–∞—Ñ–∏—è–º–∏,

–∑–∞–≥—Ä—É–∂–∞—Ç—å –º–µ–¥–∏–∞,

–ø—É–±–ª–∏–∫–æ–≤–∞—Ç—å/—Å–∫—Ä—ã–≤–∞—Ç—å –∫–æ–Ω—Ç–µ–Ω—Ç,

—Å–ª–µ–¥–∏—Ç—å –∑–∞ –±–∞–∑–æ–≤–æ–π —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–æ–π –ø–æ—Å–µ—â–µ–Ω–∏–π.

–ê–¥–º–∏–Ω-—á–∞—Å—Ç—å –≤—ã–Ω–µ—Å–µ–Ω–∞ –≤ –æ—Ç–¥–µ–ª—å–Ω—ã–π —Ä–æ—É—Ç /admin –∏ –∏–º–µ–µ—Ç —Å–æ–±—Å—Ç–≤–µ–Ω–Ω—ã–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã –∏ API-—ç–Ω–¥–ø–æ–∏–Ω—Ç—ã.

–¢–µ—Ö–Ω–æ–ª–æ–≥–∏—á–µ—Å–∫–∏–π —Å—Ç–µ–∫

–ü—Ä–æ–µ–∫—Ç –ø–æ—Å—Ç—Ä–æ–µ–Ω –Ω–∞ —Å–æ–≤—Ä–µ–º–µ–Ω–Ω–æ–º fullstack-–ø–æ–¥—Ö–æ–¥–µ:

Frontend

Next.js (App Router)

TypeScript

UI-–∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –≤ app/components

–î–∏–Ω–∞–º–∏—á–µ—Å–∫–∏–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã —á–µ—Ä–µ–∑ –º–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ü–∏—é App Router (app/...)

Backend (–≤–Ω—É—Ç—Ä–∏ Next.js)

API Routes (app/api/...)

–ª–æ–≥–∏–∫–∞ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏, –ø–æ—Å—Ç–æ–≤, –ª–∞–π–∫–æ–≤, –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–µ–≤, —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π –∏ –∑–∞–≥—Ä—É–∑–æ–∫ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–∞ —Å–µ—Ä–≤–µ—Ä–Ω—ã–º–∏ —Ä–æ—É—Ç–∞–º–∏

–•—Ä–∞–Ω–µ–Ω–∏–µ —Ñ–∞–π–ª–æ–≤

–º–µ–¥–∏–∞—Ñ–∞–π–ª—ã (—Ñ–æ—Ç–æ/–≤–∏–¥–µ–æ/–æ–±–ª–æ–∂–∫–∏) —Ö—Ä–∞–Ω—è—Ç—Å—è –≤ Yandex Cloud Object Storage

–ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –∏ —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

–ü—Ä–æ–µ–∫—Ç –∏—Å–ø–æ–ª—å–∑—É–µ—Ç —Ä–∞–∑–¥–µ–ª–µ–Ω–∏–µ –Ω–∞:

–ø—É–±–ª–∏—á–Ω—É—é —á–∞—Å—Ç—å —Å–∞–π—Ç–∞,

–∞–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å,

API.

–ö–ª—é—á–µ–≤—ã–µ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏:

app/(sections)/[section]/page.tsx
–£–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω—ã–π —Ä–æ—É—Ç –¥–ª—è –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è —Å–µ–∫—Ü–∏–π —Å–∞–π—Ç–∞.

app/admin/*
–ê–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å:

/admin/posts ‚Äî —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–æ—Å—Ç–∞–º–∏

/admin/blog ‚Äî —Ä–µ–¥–∞–∫—Ç–æ—Ä –±–ª–æ–≥–∞

/admin/photos ‚Äî –∞–ª—å–±–æ–º—ã –∏ –∑–∞–≥—Ä—É–∑–∫–∞ —Ñ–æ—Ç–æ

/admin/upload ‚Äî –∑–∞–≥—Ä—É–∑–∫–∞ –º–µ–¥–∏–∞

/admin/stats ‚Äî —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞

app/api/*
API-—ç–Ω–¥–ø–æ–∏–Ω—Ç—ã –ø—Ä–æ–µ–∫—Ç–∞:

Auth

/api/auth/register

/api/auth/login

/api/auth/logout

/api/me ‚Äî –ø–æ–ª—É—á–∏—Ç—å —Ç–µ–∫—É—â–µ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è

–ö–æ–Ω—Ç–µ–Ω—Ç

/api/posts

/api/posts/[slug]

/api/albums

/api/albums/[slug]

/api/photos/...

–ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏ / –ª–∞–π–∫–∏

/api/posts/[slug]/comments

/api/photos/[photoId]/comments

/api/comments/[id]/replies

/api/comments/[id]/like

–£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è

/api/notifications

/api/notifications/[id]/read

–°–∏—Å—Ç–µ–º–Ω—ã–µ

/api/health

/api/visit

app/components/*
UI-–∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –ø—Ä–æ–µ–∫—Ç–∞:

–ª–∞–π–∫–∏ (LikeButton, CommentLikeButton)

–∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏ (CommentsPanel)

—Ñ–æ—Ç–æ-–≥–∞–ª–µ—Ä–µ—è –∏ viewer/lightbox

–Ω–∞–≤–∏–≥–∞—Ü–∏—è –∏ layout-–∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã

—Å–µ–∫—Ü–∏–∏ –≥–ª–∞–≤–Ω–æ–π —Å—Ç—Ä–∞–Ω–∏—Ü—ã

–ò–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –∏ –¥–µ–ø–ª–æ–π

–ü—Ä–æ–µ–∫—Ç —Ä–∞–±–æ—Ç–∞–µ—Ç –≤ production –Ω–∞ –≤–∏—Ä—Ç—É–∞–ª—å–Ω–æ–π –º–∞—à–∏–Ω–µ –≤ Yandex Cloud.

–•–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∏ —Å–µ—Ä–≤–µ—Ä–∞:

vCPU: 2

RAM: 4 –ì–ë

Disk: 20 –ì–ë

–§–∞–π–ª—ã —Ö—Ä–∞–Ω—è—Ç—Å—è –æ—Ç–¥–µ–ª—å–Ω–æ –≤ Object Storage (Yandex Cloud).

–°–µ—Ç–µ–≤–∞—è —Å—Ö–µ–º–∞

–¥–æ–º–µ–Ω—ã arefev.pro –∏ www.arefev.pro —É–∫–∞–∑—ã–≤–∞—é—Ç –Ω–∞ —Å—Ç–∞—Ç–∏—á–µ—Å–∫–∏–π IP —Å–µ—Ä–≤–µ—Ä–∞

Nginx —Ä–∞–±–æ—Ç–∞–µ—Ç –∫–∞–∫ reverse proxy –∏ –ø—Ä–∏–Ω–∏–º–∞–µ—Ç –∑–∞–ø—Ä–æ—Å—ã –Ω–∞ 80/443

‚ö†Ô∏è Next.js —Å–ª—É—à–∞–µ—Ç *:3000, –Ω–æ –∑–∞—â–∏—â—ë–Ω UFW ‚Äî –ª—É—á—à–µ –ø–æ–ø—Ä–∞–≤–∏—Ç—å –Ω–∞ 127.0.0.1:3000 !!!!!
–Ω–∞—Ä—É–∂—É Next.js –Ω–∞–ø—Ä—è–º—É—é –Ω–µ –¥–æ—Å—Ç—É–ø–µ–Ω

PostgreSQL –∑–∞–∫—Ä—ã—Ç –∏ —Å–ª—É—à–∞–µ—Ç —Ç–æ–ª—å–∫–æ –ª–æ–∫–∞–ª—å–Ω–æ:

127.0.0.1:5432 postgres

[::1]:5432 postgres

–ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å —Å–µ—Ä–≤–µ—Ä–∞

–ü—Ä–æ–µ–∫—Ç —Ä–∞–∑–≤—ë—Ä–Ω—É—Ç —Å –±–∞–∑–æ–≤–æ–π production-–±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å—é:

SSH

–æ—Ç–∫–ª—é—á–µ–Ω–∞ –ø–∞—Ä–æ–ª—å–Ω–∞—è –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è (PasswordAuthentication no)

–≤—Ö–æ–¥ —Ç–æ–ª—å–∫–æ –ø–æ SSH-–∫–ª—é—á—É

root-–ª–æ–≥–∏–Ω –∑–∞–ø—Ä–µ—â—ë–Ω (PermitRootLogin no)

–≤–∫–ª—é—á—ë–Ω Fail2Ban (jail sshd)

Firewall

–≤–∫–ª—é—á—ë–Ω UFW

–ø–æ–ª–∏—Ç–∏–∫–∞ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é: deny incoming, allow outgoing

–æ—Ç–∫—Ä—ã—Ç—ã —Ç–æ–ª—å–∫–æ –ø–æ—Ä—Ç—ã:

22 (SSH)

80 (HTTP)

443 (HTTPS)

HTTPS

–∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è Let‚Äôs Encrypt

–≤–∫–ª—é—á–µ–Ω–æ –∞–≤—Ç–æ-–ø—Ä–æ–¥–ª–µ–Ω–∏–µ —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–æ–≤

–Ω–∞—Å—Ç—Ä–æ–µ–Ω—ã security headers (HSTS, XFO, XCTO –∏ —Ç.–¥.)

–ó–∞–ø—É—Å–∫ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è –∏ –ø—Ä–æ—Ü–µ—Å—Å –¥–µ–ø–ª–æ—è

–ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ —Ä–∞–±–æ—Ç–∞–µ—Ç —á–µ—Ä–µ–∑ PM2:

–∫–æ–Ω—Ñ–∏–≥: ecosystem.config.cjs

–ø—Ä–æ—Ü–µ—Å—Å: arefevpro

–∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è production build Next.js

–î–µ–ø–ª–æ–π –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∏—Ä–æ–≤–∞–Ω —á–µ—Ä–µ–∑ GitHub Actions:

–ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –ø–æ SSH —á–µ—Ä–µ–∑ appleboy/ssh-action

—Å–µ–∫—Ä–µ—Ç—ã:

VPS_HOST

VPS_USER

VPS_SSH_KEY
